// =============================
// === Territorio Negocios ===
// =============================

var datosTerritorioNegocios = {
    id: "territorionegocios",
    numeroTerritorio: "", // Número o letra que se mostrará en el marcador principal
    poligonos: [
        {
            id: "Oxxo",
            coords: [
                [[28.609725, -106.066040], [28.609673, -106.066183], [28.609639, -106.066455], [28.609640, -106.066571], [28.609648, -106.066666], [28.609668, -106.066757], [28.609351, -106.066238], [28.609777, -106.065929]]
            ],
            color: "rgba(70, 44, 11, 1)",
            fillOpacity: 1.0,
            weight: 2,
            label: "1",
            link: "Oxxo"
        },
        {
            id: "Cuadra2_TerritorioNegocios",
            coords: [
                [[28.609593, -106.066006], [28.609329, -106.066204], [28.609206, -106.065997], [28.609335, -106.065910], [28.609401, -106.065887], [28.609445, -106.065890], [28.609505, -106.065916]]
            ],
            color: "rgba(70, 44, 11, 1)",
            fillOpacity: 1.0,
            weight: 2,
            label: "2",
            link: ""
        },
        {
            id: "Cuadra3_TerritorioNegocios",
            coords: [
                [[28.609614, -106.065988], [28.609511, -106.065889], [28.609433, -106.065861], [28.609390, -106.065865], [28.609323, -106.065886], [28.609190, -106.065978], [28.608828, -106.065394], [28.608684, -106.065202], [28.609214, -106.064831], [28.609362, -106.064605], [28.609654, -106.064583], [28.609714, -106.064633], [28.609754, -106.064680], [28.610121, -106.065346], [28.609807, -106.065855]]
            ],
            color: "rgba(70, 44, 11, 1)",
            fillOpacity: 1.0,
            weight: 2,
            label: "3",
            link: ""
        },
        {
            id: "Cuadra4_TerritorioNegocios",
            coords: [
                [[28.610323, -106.064909], [28.610397, -106.064942], [28.610152, -106.065303], [28.610003, -106.065047], [28.610166, -106.064911], [28.610220, -106.064900], [28.610274, -106.064892]]
            ],
            color: "rgba(70, 44, 11, 1)",
            fillOpacity: 1.0,
            weight: 2,
            label: "4",
            link: ""
        },
        {
            id: "Cuadra5_TerritorioNegocios",
            coords: [
                [[28.610740, -106.064394], [28.610410, -106.064914], [28.610270, -106.064863], [28.610192, -106.064867], [28.610153, -106.064889], [28.609991, -106.065020], [28.609794, -106.064668], [28.609670, -106.064532], [28.609378, -106.064560], [28.609586, -106.064200], [28.609786, -106.063886], [28.610214, -106.063235], [28.610410, -106.063491], [28.610420, -106.063518], [28.610419, -106.063556], [28.610372, -106.063683], [28.610746, -106.064017], [28.610782, -106.064019], [28.610911, -106.064118]]
            ],
            color: "rgba(70, 44, 11, 1)",
            fillOpacity: 1.0,
            weight: 2,
            label: "5",
            link: ""
        },
        {
            id: "Cuadra6_TerritorioNegocios",
            coords: [
                [[28.610922, -106.064072], [28.610430, -106.063667], [28.610476, -106.063559], [28.610444, -106.063452], [28.610236, -106.063199], [28.610500, -106.062763], [28.610622, -106.062609], [28.610880, -106.062993], [28.611237, -106.063567]]
            ],
            color: "rgba(70, 44, 11, 1)",
            fillOpacity: 1.0,
            weight: 2,
            label: "6",
            link: ""
        },
        {
            id: "Cuadra7_TerritorioNegocios",
            coords: [
                [[28.612017, -106.062733], [28.611473, -106.061798], [28.611175, -106.062024], [28.611019, -106.062155], [28.610695, -106.062523], [28.611305, -106.063486], [28.611578, -106.063082], [28.611710, -106.062956]]
            ],
            color: "rgba(70, 44, 11, 1)",
            fillOpacity: 1.0,
            weight: 2,
            label: "7",
            link: ""
        },
        {
            id: "Cuadra8_TerritorioNegocios",
            coords: [
                [[28.611194, -106.061304], [28.611437, -106.061749], [28.610986, -106.062090], [28.610656, -106.062474], [28.609984, -106.061698], [28.609896, -106.061600], [28.609807, -106.061466], [28.610629, -106.060554], [28.610908, -106.060849]]
            ],
            color: "rgba(70, 44, 11, 1)",
            fillOpacity: 1.0,
            weight: 2,
            label: "8",
            link: ""
        },
        {
            id: "Cuadra9_TerritorioNegocios",
            coords: [
                [[28.608120, -106.064565], [28.608283, -106.064736], [28.608351, -106.064827], [28.608601, -106.065201], [28.608326, -106.065398], [28.607953, -106.065402], [28.607559, -106.065405], [28.607453, -106.065372], [28.607307, -106.065247], [28.607078, -106.065044], [28.606829, -106.065212], [28.606790, -106.065201], [28.606739, -106.065201], [28.606475, -106.065221], [28.606176, -106.065242], [28.606145, -106.065265], [28.605964, -106.065394], [28.605759, -106.065539], [28.605569, -106.065184], [28.605085, -106.065508], [28.603830, -106.063318], [28.604060, -106.063286], [28.604243, -106.063295], [28.604340, -106.063323], [28.604487, -106.063366], [28.604634, -106.063415], [28.604781, -106.063412], [28.604867, -106.063408], [28.605035, -106.063394], [28.605307, -106.063377], [28.605844, -106.063351], [28.605944, -106.063364], [28.606006, -106.063381], [28.606450, -106.063543], [28.606791, -106.063704], [28.607188, -106.063857], [28.607365, -106.063968], [28.607526, -106.064088], [28.607882, -106.064370]]
            ],
            color: "rgba(70, 44, 11, 1)",
            fillOpacity: 1.0,
            weight: 2,
            label: "9",
            link: ""
        }
    ],
};

// ------------------------------
// Crear territorio con base
// ------------------------------
var territorionegociosData = crearTerritorio(datosTerritorioNegocios);
var territorionegocios = territorionegociosData.grupo;

// ------------------------------
// Crear marcador inicial del territorio (letra o número)
// ------------------------------
var polFijo = datosTerritorioNegocios.poligonos.find(p => p.id === "Cuadra2_TerritorioNegocios");
var centro = L.polygon(polFijo.coords).getBounds().getCenter();

var marcadorTerritorionegocios = L.marker(centro, {
    icon: L.divIcon({
        className: "etiquetaTerritorio",
        html: `<b>${datosTerritorioNegocios.numeroTerritorio}</b>`,
        iconSize: [20, 20]
    })
}).addTo(map);

// Guardamos la referencia en el grupo para poder ocultarla desde index
territorionegocios._marcadorTerritorio = marcadorTerritorionegocios;
